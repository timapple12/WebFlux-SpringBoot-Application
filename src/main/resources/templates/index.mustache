<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WebFlux</title>
    <script>
        var token = ''
    </script>
</head>

<body>
    {{ user }}
<form onsubmit="
        var data = {
            method: 'post',
            headers: {
                'Content-type':'application/x-www-form-urlencoded'
            },
            body: `username = ${this.username.value}&password = ${this.password.value}`
        };
       fetch('/login', data).then(result => result.text().then(text => console.log(text)))
    return false;
    ">
    <input type="text" name="username">
    <input type="password" name="password">
    <input type="submit" name="Sign in">
</form>
<input type="button" value="main" onclick="
      fetch(                                                // NEVER DO THAT AT HOME, IT'S ILLEGAL, COPS MAY GET IN YOUR HOUSE AT ANY MOMENT IF YOU TRY //Sorry for eyes bleeding
          'main',
          {
              headers:{
                  'Authorization' : `Bearer ${token}`
              }
          }
      ).then( resp => resp.json()).then(console.log)
">

    <input type="button" value="hello" onclick="
      fetch(
          'hello',
          {
              headers:{
                  'Authorization' : `Bearer ${token}`
              }
          }
      ).then( resp => resp.json()).then(console.log)
">
</body>
</html>